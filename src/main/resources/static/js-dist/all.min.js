var Lang=function(){function b(a,d){var b=$("html").attr("lang"),e="";void 0==b?e=c["in"][a][d]:void 0!=c[b]&&(e=c[b][a][d]);return void 0==e||""==e?b+"."+a+"."+d:e}var c={en:{button:{cancel:"Cancel",close:"Close","delete":"Delete",upload:"Upload",browse:"Browse",reject:"Reject",verify:"Verify"},field:{activated:"Activated",authorities:"Authorities",content:"Content",description:"Description",email:"Email",keyword:"Keyword",id:"Id",authenticateFromDb:"Authenticate From Db",name:"Name",password:"Password",
passwordHash:"Password",role:"Role",username:"Username",title:"Title",file:"File",orderNumber:"Order Number","true":"Yes","false":"No",termAndCondition:"Term And Condition",startPeriod:"Start Period",endPeriod:"End Period",showInCarousel:"Show In Carousel",promoCategory:"Promo Category",code:"Code",locked:"Locked",userType:"Type",phone:"Phone",customerType:"Type",dob:"Date Of Birth",image:"Image",material:"Material",place:"Place",timePeriod:"Time"},label:{activated:"Activated",deactivated:"Deactivated",
locked:"Locked",unlocked:"Unlocked",showInCarousel:"Show In Carousel",notShowInCarousel:"Not Show In Carousel",viewImage:"View Image",viewPdf:"View Pdf"},message:{DeleteConfirm:"Delete data ?",VerifyConfirm:"Verify data ?",RejectConfirm:"Reject data ?",ProcessSuccess:"The process was successful"},error:{401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method not allowed",406:"Not Acceptable",ElementNotFound:"Element is not found",ConstraintViolationException:"Data is referenced by other data",
ERR_CONNECTION_REFUSED:"Can not connect to server",PickImage:"Pick image",ImageName:"Name length min 3 chars and max 30 chars",DuplicateEntry:"Duplicate data"}},id:{button:{cancel:"Batal",close:"Tutup","delete":"Hapus",upload:"Unggah",browse:"Browse",reject:"Tolak",verify:"Verifikasi"},field:{activated:"Aktif",authorities:"Hak Akses",content:"Konten",description:"Keterangan",email:"Email",keyword:"Kata Kunci",id:"Id",authenticateFromDb:"Login Dari Db",name:"Nama",password:"Kata Sandi",passwordHash:"Kata Sandi",
role:"Peranan",username:"Nama Pengguna",title:"Judul",file:"Berkas",orderNumber:"Nomor Urut","true":"Ya","false":"Tidak",termAndCondition:"Syarat Dan Kondisi",startPeriod:"Periode Mulai",endPeriod:"Periode Akhir",showInCarousel:"Tampilkan di Carousel",promoCategory:"Kategori Promo",code:"Kode",locked:"Dikunci",userType:"Tipe",phone:"Telepon",customerType:"Tipe",dob:"Tanggal Lahir",image:"Gambar",material:"Materi",place:"Tempat",timePeriod:"Jam"},label:{activated:"Aktif",deactivated:"Tidak Aktif",
locked:"Terkunci",unlocked:"Tidak Terkunci",showInCarousel:"Tampil Di Carousel",notShowInCarousel:"Tidak Tampil Di Carousel",viewImage:"Lihat Gambar",viewPdf:"Lihat Pdf"},message:{DeleteConfirm:"Hapus data ?",VerifyConfirm:"Verifikasi data ?",RejectConfirm:"Tolak data ?",ProcessSuccess:"Proses berhasil"},error:{401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method not allowed",406:"Not Acceptable",ElementNotFound:"tidak ditemukan",ConstraintViolationException:"Data masih digunakan",ERR_CONNECTION_REFUSED:"Tidak bisa melakukan koneksi",
PickImage:"Pilih gambar",ImageName:"Nama min 3 karakter dan maks 30 karakter",DuplicateEntry:"Data rangkap"}}};return{button:function(a){return b("button",a)},message:function(a){return b("message",a)},field:function(a){return b("field",a)},label:function(a){return b("label",a)},error:function(a){return b("error",a)},lang:b,getLocale:function(){var a=$("html").attr("lang");void 0==a&&(a="id");return a}}}();
$.fn.materializeInputs=function(b){"undefined"===typeof b&&(b="input, textarea");this.find(b).each(function(){this.setAttribute("value",this.value)});this.on("keyup",b,function(){this.setAttribute("value",this.value)})};
jconfirm.defaults={title:!1,titleClass:"",type:"dark",typeAnimated:!0,draggable:!0,dragWindowGap:15,dragWindowBorder:!0,animateFromElement:!0,smoothContent:!0,content:"Are you sure to continue?",buttons:{},defaultButtons:{ok:{action:function(){}},close:{action:function(){}}},contentLoaded:function(b,c,a){},icon:"",lazyOpen:!1,bgOpacity:null,theme:"bootstrap",animation:"scale",closeAnimation:"scale",animationSpeed:400,animationBounce:1,rtl:!1,container:"body",containerFluid:!1,backgroundDismiss:!1,
backgroundDismissAnimation:"shake",autoClose:!1,closeIcon:!0,closeIconClass:!1,watchInterval:100,columnClass:"col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1",boxWidth:"50%",scrollToPreviousElement:!0,scrollToPreviousElementAnimate:!0,useBootstrap:!0,offsetTop:40,offsetBottom:40,bootstrapClasses:{container:"container",containerFluid:"container-fluid",row:"row justify-content-center align-items-center"},onContentReady:function(){},onOpenBefore:function(){},onOpen:function(){},
onClose:function(){},onDestroy:function(){},onAction:function(){}};
var Sidenav=function(){function b(){var a=$("#content-box"),b=$("#sidenav-box");768<=$(window).width()?(a.css("padding-right","250px"),b.css("right","0")):(a.css("padding-right","0"),b.css("right","-250px"))}function c(){$(".vertical-menu ul").each(function(){0==$(this).has("li").length&&$(this).remove()});$(".vertical-menu li").each(function(){0==$(this).has("a").length&&$(this).remove()})}function a(){$(".vertical-menu a").each(function(){$(this).removeClass("active");window.location.pathname.endsWith($(this).attr("rel"))&&
$(this).addClass("active")})}return{init:function(){$(window).resize(function(a){b()});b();c();a()},toggle:function(){var a=$("#content-box"),b=$("#sidenav-box");"0px"==b.css("right")?(b.css("right","-250px"),768<=$(window).width()&&a.css("padding-right","0")):(b.css("right","0"),768<=$(window).width()&&a.css("padding-right","250px"))}}}(),AlertUtil=function(){return{success:function(b,c){$.alert({type:"green",columnClass:"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6 text-center",icon:"icon-ok",content:b,
buttons:{close:{text:Lang.button("close"),btnClass:"btn btn-light text-success px-4",action:c}},onClose:c})},error:function(b){$.alert({type:"red",columnClass:"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6 text-center",icon:"icon-attention",content:b,buttons:{close:{text:Lang.button("close"),btnClass:"btn btn-light text-danger px-4"}}})}}}(),AjaxUtil=function(){function b(){var a=$("meta[name\x3d'_csrf']"),b=$("meta[name\x3d'_csrf_header']");a.length&&b.length&&$(document).ajaxSend(function(d,c,g){c.setRequestHeader(b.attr("content"),
a.attr("content"))})}function c(){b();$.ajax(e).done(a).fail(d)}function a(a,b,d){var c=e.url;"DELETE"==e.type&&(c=f(c));AlertUtil.success(a.message,function(){window.location=c})}function d(a,b,d){if(0==a.readyState)AlertUtil.error(Lang.error("ERR_CONNECTION_REFUSED"));else if(400==a.status){a=a.responseJSON;$("label").removeClass("text-danger");$('input[type\x3d"text"]').attr("class","form-control");$('input[type\x3d"password"]').attr("class","form-control");$("textarea").not(".trumbowyg-textarea").attr("class",
"form-control");for(b=0;b<a.fields.length;b++)$('[for\x3d"'+a.fields[b]+'"]').attr("class","text-danger"),$('input[type\x3d"text"][name\x3d"'+a.fields[b]+'"]').attr("class","form-control is-invalid"),$('input[type\x3d"password"][name\x3d"'+a.fields[b]+'"]').attr("class","form-control is-invalid"),$('textarea[name\x3d"'+a.fields[b]+'"]').not(".trumbowyg-textarea").attr("class","form-control is-invalid");AlertUtil.error(a.message)}else 401==a.status?(AlertUtil.error(Lang.error(a.status)),window.location.href=
$("meta[name\x3dcontextPath]").attr("content")+"login"):403==a.status?(AlertUtil.error(Lang.error(a.status)),window.location.href=$("meta[name\x3dcontextPath]").attr("content")+"login?forbidden"):404==a.status||405==a.status||406==a.status?AlertUtil.error(a.url+" : "+Lang.error(a.status)):void 0===a.responseJSON||void 0===a.responseJSON.message?AlertUtil.error('\x3cspan class\x3d"text-red"\x3eERROR : '+a.responseText+"\x3c/span\x3e"):-1!==a.responseJSON.message.indexOf("uq")?AlertUtil.error('\x3cspan class\x3d"text-red"\x3eERROR : '+
Lang.error("DuplicateEntry")+"\x3c/span\x3e\x3chr\x3e"+a.responseJSON.message):AlertUtil.error('\x3cspan class\x3d"text-red"\x3eERROR : '+a.responseJSON.message+"\x3c/span\x3e")}function f(a){a=a.split("/");a.pop();return a.join("/")}var e;return{submit:function(c){e={type:$(c).attr("method"),url:$(c).attr("action"),dataType:"json",contentType:!1,processData:!1,data:new FormData(c),beforeSend:function(a,b){a.url=$(c).attr("action")}};b();$.ajax(e).done(a).fail(d);return!1},confirm:function(a){e={url:a.getAttribute("href"),
type:"DELETE",beforeSend:function(b,d){b.url=a.getAttribute("href")}};$.confirm({type:"red",columnClass:"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6 text-center",icon:"icon-trash",content:Lang.message("DeleteConfirm"),buttons:{cancel:{text:Lang.button("cancel"),btnClass:"btn btn-light px-4"},delete:{text:Lang.button("delete"),btnClass:"btn btn-light text-danger px-4",action:c}}});return!1}}}(),TaskUtil=function(){function b(){document.getElementById("verified").value=!0;AjaxUtil.submit(document.getElementById("task-form"))}
function c(){document.getElementById("verified").value=!1;AjaxUtil.submit(document.getElementById("task-form"))}return{verify:function(){$.confirm({type:"green",columnClass:"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6 text-center",icon:"icon-ok",content:Lang.message("VerifyConfirm"),buttons:{cancel:{text:Lang.button("cancel"),btnClass:"btn btn-light px-4"},verify:{text:Lang.button("verify"),btnClass:"btn btn-light text-success px-4",action:b}}})},reject:function(){$.confirm({type:"red",columnClass:"col-12 col-sm-12 col-md-10 col-lg-8 col-xl-6 text-center",
icon:"icon-block",content:Lang.message("RejectConfirm"),buttons:{cancel:{text:Lang.button("cancel"),btnClass:"btn btn-light px-4"},verify:{text:Lang.button("reject"),btnClass:"btn btn-light text-danger px-4",action:c}}})}}}(),JsonUtil=function(){function b(b){var a="",d;for(d in b)a+=(""===a?"[":", ")+Lang.field(d)+" \x3d "+b[d];return a+"]"}return{toTable:function(){$("div.json").each(function(){if(""!==$(this).text()){var c=JSON.parse($(this).text()),a='\x3ctable class\x3d"table table-sm table-bordered"\x3e',
d;for(d in c){a+="\x3ctr\x3e";a+='\x3cth valign\x3d"top"\x3e'+Lang.field(d)+"\x3c/th\x3e";if(Array.isArray(c[d])){for(var f=c[d],a=a+"\x3ctd\x3e",e=0;e<f.length;e++)a+=b(f[e]),a+="\x3cbr\x3e";a+="\x3c/td\x3e"}else"object"===jQuery.type(c[d])?(console.log(2),a+="\x3ctd\x3e"+b(c[d])+"\x3c/td\x3e"):"image"==d?(f=void 0==c.id||c.id!=c[d]?"image/task/"+c[d]:"image/"+c[d],e=$("meta[name\x3dcontextPath]").attr("content"),f=void 0==e?f:e+f,f='\x3ca onclick\x3d"return openNewTab(this)" class\x3d"btn btn-sm btn-secondary" href\x3d"'+
f+'"\x3e \x3cspan class\x3d"icon-picture"\x3e\x3c/span\x3e \x3cspan\x3e'+Lang.label("viewImage")+"\x3c/span\x3e \x3c/a\x3e",a+="\x3ctd\x3e"+f+"\x3c/td\x3e"):"material"==d?(f=void 0==c.id||c.id!=c[d]?"pdf/task/"+c[d]:"pdf/"+c[d],e=$("meta[name\x3dcontextPath]").attr("content"),f=void 0==e?f:e+f,f='\x3ca onclick\x3d"return openNewTab(this)" class\x3d"btn btn-sm btn-secondary" href\x3d"'+f+'"\x3e \x3cspan class\x3d"icon-file-pdf"\x3e\x3c/span\x3e \x3cspan\x3e'+Lang.label("viewPdf")+"\x3c/span\x3e \x3c/a\x3e",
a+="\x3ctd\x3e"+f+"\x3c/td\x3e"):(f=c[d],"boolean"===typeof f&&(f=Lang.field(f)),a+="\x3ctd\x3e"+(null==f?"-":f)+"\x3c/td\x3e");a+="\x3c/tr\x3e"}a+="\x3c/table\x3e";$(this).html(a)}})}}}(),DateUtil=function(){function b(a,b){$.fn.datepicker.languages.en={autoHide:!0,startDate:a,endDate:b,format:"dd-mm-yyyy",days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekStart:0,startView:0,yearFirst:!1,yearSuffix:""};$.fn.datepicker.languages.id={autoHide:!0,startDate:a,endDate:b,format:"dd-mm-yyyy",days:"Minggu Senin Selasa Rabu Kamis Jumat Sabtu".split(" "),daysShort:"Min Sen Sel Rab Kam Jum Sab".split(" "),daysMin:"Mi Se Se Ra Ka Ju Sa".split(" "),months:"Januari Februari Maret April Mei Juni Juli Agustus September Oktober November Desember".split(" "),monthsShort:"Jan Feb Mar Apr Mai Jun Jul Agu Sep Okt Nov Des".split(" "),
weekStart:0,startView:0,yearFirst:!1,yearSuffix:""}}function c(a){var b=window.location.href;if(-1!==b.indexOf("?")&&-1!==b.indexOf("\x26"))for(var b=b.split("?")[1].split("\x26"),c=0;c<b.length;c++){var e=b[c].split("\x3d");if(e[0]==a)return e[1]}return null}return{initSearch:function(){var a=$('input[name\x3d"sd"]'),d=$('input[name\x3d"ed"]'),f,e;b(null,new Date);f=a.datepicker({language:Lang.getLocale()}).datepicker("setDate",null==c("sd")||""==c("sd")?null:c("sd")).on("pick.datepicker",function(a){e.datepicker("getDate")<
a.date?e.datepicker("setDate",a.date):""==d.val()&&d.val(e.datepicker("getDate",!0))});e=d.datepicker({language:Lang.getLocale()}).datepicker("setDate",null==c("ed")||""==c("ed")?null:c("ed")).on("pick.datepicker",function(b){f.datepicker("getDate")>b.date?f.datepicker("setDate",b.date):""==a.val()&&a.val(f.datepicker("getDate",!0))})},startEndPeriod:function(a,c){var d,e;b(new Date,null);d=a.datepicker({language:Lang.getLocale()}).datepicker("setDate",null==a.val()?new Date:a.val()).on("pick.datepicker",
function(a){e.datepicker("getDate")<a.date?e.datepicker("setDate",a.date):""==c.val()&&c.val(e.datepicker("getDate",!0))});e=c.datepicker({language:Lang.getLocale()}).datepicker("setDate",null==c.val()?new Date:c.val()).on("pick.datepicker",function(b){d.datepicker("getDate")>b.date?d.datepicker("setDate",b.date):""==a.val()&&a.val(d.datepicker("getDate",!0))})},initDob:function(){var a=$('input[name\x3d"dob"]');b(null,new Date);a.datepicker({language:Lang.getLocale()}).datepicker("setDate",null==
a.val()?new Date:a.val())},initTimePicker:function(a){var b=""==a.val()?"08:00":a.val();a.timepicker({timeFormat:"HH:mm",interval:60,minTime:"01",maxTime:"23:00",defaultTime:b,startTime:"01:00",dynamic:!1,dropdown:!0,scrollbar:!0,zindex:20})}}}(),ImageUtil=function(){return{show:function(b){if(b.files&&b.files[0]){var c=new FileReader,a=new Image;c.onload=function(b){a.src=b.target.result;$("#preview-image").show();$("#preview-image img").attr("src",b.target.result)};a.onload=function(){$("#preview-image img").width(a.width).height(a.height)};
c.readAsDataURL(b.files[0])}else $("#preview-image").hide()}}}(),FormUtil=function(){function b(a){$('[for\x3d"locked"]').text(Lang.label(a?"locked":"unlocked"))}function c(a){$('[for\x3d"showInCarousel"]').text(Lang.label(a?"showInCarousel":"notShowInCarousel"))}function a(a){$('[for\x3d"activated"]').text(Lang.label(a?"activated":"deactivated"))}return{initLocked:function(){var a=$("#locked");b(a.attr("checked"));a.change(function(a){b(a.target.checked)})},initShowInCarousel:function(){var a=$("#showInCarousel");
c(a.attr("checked"));a.change(function(a){c(a.target.checked)})},initActivated:function(){var b=$("#activated");a(b.attr("checked"));b.change(function(b){a(b.target.checked)})},onChangeUserType:function(a){"EXTERNAL"==a.value?$("input[type\x3dpassword]").removeAttr("disabled"):$("input[type\x3dpassword]").attr("disabled","disabled")}}}();
$(document).ready(function(){initMainContentHeight();initInputMaterial();Sidenav.init();initFormatDate();initEditor($("#content"));initEditor($("#termAndCondition"));initCustomFile();FormUtil.initActivated();FormUtil.initLocked();FormUtil.initShowInCarousel();DateUtil.initDob();DateUtil.startEndPeriod($('input[name\x3d"startPeriod"]'),$('input[name\x3d"endPeriod"]'));DateUtil.initTimePicker($('input[name\x3d"timePeriod"]'));DateUtil.initSearch();JsonUtil.toTable()});
function initInputMaterial(){$("body").materializeInputs()}function initFormatDate(){$("span[data-date]").each(function(b){b=Lang.getLocale();var c=$(this).text(),a=$(this).data("date"),c=moment.utc(c).toDate();b=moment(c).locale(b).format(a);$(this).text(b)})}
function initEditor(b){b.length&&b.trumbowyg({lang:$("html").attr("lang"),svgPath:$("meta[name\x3dcontextPath]").attr("content")+"static/svg/icons.svg",btns:[["viewHTML"],["undo","redo"],["formatting"],["strong","em","del"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["unorderedList","orderedList"]],autogrow:!0})}function initMainContentHeight(){setMainContentHeight();$(window).resize(function(b){setMainContentHeight()})}
function setMainContentHeight(){if(400<=$(window).height()){var b=$("#main-content");-1!==window.location.pathname.indexOf("home")?576<=$(window).width()?b.css("min-height",$(window).height()-150):b.css("min-height",$(window).height()-165):576<=$(window).width()?b.css("min-height",$(window).height()-190):b.css("min-height",$(window).height()-205)}}function openNewTab(b){b=$(b).attr("href");window.open(b,"_blank");return!1}
function initCustomFile(){$(".custom-file input").change(function(b){b=[];for(var c=0;c<$(this)[0].files.length;c++)b.push($(this)[0].files[c].name);$(this).next(".custom-file-label").html(b.join(", "))})};