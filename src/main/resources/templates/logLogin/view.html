<!doctype html>
<html th:lang="${#locale}" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragment/head.html :: content(title=#{logLogin})"></head>

<body>
	<div th:replace="fragment/navbar.html :: content"></div>
	<div class="bg-white">
	    <nav aria-label="breadcrumb">
	        <ol class="breadcrumb border-bottom">
	            <li class="breadcrumb-item"><a th:href="@{/}" th:text="#{home}"></a></li>
	            <li class="breadcrumb-item active" aria-current="page" th:text="#{logLogin}"></li>
	        </ol>
	    </nav>
		<div class="container-fluid pb-3">
			<div class="min-height border p-3">
				<div class="row no-gutters mb-3">
					<div class="col-12 col-sm-12 col-md-6 col-lg-5 col-xl-4">
						<form th:action="@{/web/logLogin}" method="get" autocomplete="off" >
							<div class="form-row mb-1">
								<div class="col-7 pr-0">
									<div class="input-group">
										<div class="input-group-prepend">
		                                    <div class="input-group-text bg-light" th:text="#{createdDate}"></div>
		                                </div>
		                                <input type="text" class="form-control bg-white border-right-0" name="sd" th:placeholder="#{startDate}" readonly="readonly">
									</div>
								</div>
								<div class="col-5 pl-0">
									<div class="input-group">
										<div class="input-group-prepend">
		                                    <div class="input-group-text bg-light" th:text="#{to}"></div>
		                                </div>
		                                <input type="text" class="form-control bg-white" name="ed" th:placeholder="#{endDate}" readonly="readonly">
									</div>
								</div>
							</div>
                            <div class="input-group">
                                <input class="form-control" name="ky" maxlength="40" th:value="${param.ky}" th:placeholder="#{label.keyword}" />
                                <div class="input-group-append">
                                    <button class="btn btn-light border text-secondary" type="submit">
                                        <i class="icon-search"></i>
                                    </button>
                                    <a class="btn btn-light border text-secondary" th:href="@{/web/logLogin}">
                                        <i class="icon-arrows-cw"></i>
                                    </a>
                                </div>
                            </div>
						</form>
					</div>
				</div>
				<div class="table-responsive" th:if="${page.getTotalElements() > 0}">
	                <table class="table table-sm table-striped table-hover border" style="min-width: 800px;">
                        <thead>
                            <tr>
                                <th class="text-center" width="50px">#</th>
                                <th th:text="#{ip}"></th>
                                <th th:text="#{createdDate}"></th>
                                <th th:text="#{email}"></th>
                                <th th:text="#{loginStatus}"></th>
                                <th th:text="#{browser}"></th>
                                <th th:text="#{deviceType}"></th>
                            </tr>
                        </thead>
						<tbody>
							<tr th:each="logLogin,row : ${page}">
								<td class="text-center" th:text="${row.count + (page.number * page.size)}"></td>
								<td th:text="${logLogin.ip}"></td>
								<td th:text="${#dates.format(logLogin.createdDate, @environment.getProperty('application.date-time-format'))}"></td>
								<td th:text="${#strings.isEmpty(logLogin.email)} ? '-' : ${logLogin.email}"></td>
								<td th:text="#{${logLogin.loginStatus}}"></td>
								<td th:text="${logLogin.browser}"></td>
								<td th:text="${logLogin.deviceType}"></td>
							</tr>
						</tbody>
					</table>
				</div>
                <div class="border alert alert-light text-center" role="alert" th:if="${page.getTotalElements() == 0}">
                    <i class="icon-attention"></i> <span th:text="#{message.dataNotFound}"></span>
                </div>
                <th:block th:if="${page != null && page.getTotalPages() > 1}">
                    <div th:utext="${@linkService.previousLink(page)}" th:remove="tag"></div>
                    <div th:utext="${@linkService.nextLink(page)}" th:remove="tag"></div>
                </th:block>
			</div>
		</div>
	</div>
	<div th:replace="fragment/footer.html :: content"></div>
    <div th:replace="fragment/scripts.html :: content"></div>
</body>

</html>